Not Updated:

run migration

ALTER TABLE `student_payments`
	CHANGE COLUMN `paid_type` `paid_type` ENUM('Cash','SSL','Bkash','Rocket','EFT','Others') NOT NULL DEFAULT 'Cash' COLLATE 'utf8mb4_unicode_ci' AFTER `payment_status`;
SELECT `DEFAULT_COLLATION_NAME` FROM `information_schema`.`SCHEMATA` WHERE `SCHEMA_NAME`='abpdb';



CREATE TABLE student_books(
	`id` BIGINT(20) UNSIGNED NOT NULL AUTO_INCREMENT,
	`batch_book_id` BIGINT(20) NOT NULL,
	batch_student_id BIGINT(20) NOT NULL,
	`student_id` BIGINT(20) NOT NULL,
	`sent_date`  TIMESTAMP NULL DEFAULT NULL,
	`received_date`  TIMESTAMP NULL DEFAULT NULL,
	`status` ENUM('Active','Inactive') NOT NULL DEFAULT 'Active' COLLATE 'utf8mb4_unicode_ci',
	`created_at` TIMESTAMP NULL DEFAULT NULL,
	`updated_at` TIMESTAMP NULL DEFAULT NULL,
	PRIMARY KEY (`id`) USING BTREE
)
COLLATE='utf8mb4_unicode_ci'
ENGINE=InnoDB
AUTO_INCREMENT=1;



CREATE TABLE student_books_feedback(
	`id` BIGINT(20) UNSIGNED NOT NULL AUTO_INCREMENT,
	`student_book_id` BIGINT(20) NOT NULL,
	`feedback` TEXT NULL,
	`created_at` TIMESTAMP NULL DEFAULT NULL,
	`updated_at` TIMESTAMP NULL DEFAULT NULL,
	PRIMARY KEY (`id`) USING BTREE
)
COLLATE='utf8mb4_unicode_ci'
ENGINE=InnoDB
AUTO_INCREMENT=1
;

CREATE TABLE `certificate_feedback` (
	`id` BIGINT(20) UNSIGNED NOT NULL AUTO_INCREMENT,
	`batch_student_id` BIGINT(20) NOT NULL,
	`feedback` TEXT(65535) NULL DEFAULT NULL COLLATE 'utf8mb4_unicode_ci',
	`created_at` TIMESTAMP NULL DEFAULT NULL,
	`updated_at` TIMESTAMP NULL DEFAULT NULL,
	PRIMARY KEY (`id`) USING BTREE
)
COLLATE='utf8mb4_unicode_ci'
ENGINE=InnoDB
AUTO_INCREMENT=1
;




CREATE TABLE `batch_student_units` (
	`id` INT(10) UNSIGNED NOT NULL AUTO_INCREMENT,
	`batch_student_id` BIGINT(20) UNSIGNED NOT NULL,
	`unit_id` VARCHAR(255) NOT NULL COLLATE 'utf8mb4_unicode_ci',
	`result` BIGINT(20) NULL DEFAULT NULL COLLATE 'utf8mb4_unicode_ci',
	`score` VARCHAR(255) NOT NULL COLLATE 'utf8mb4_unicode_ci',
	remarks TEXT NULL,
	`created_by` BIGINT(20) UNSIGNED NOT NULL,
	`status` ENUM('Active','Inactive') NOT NULL DEFAULT 'Active' COLLATE 'utf8mb4_unicode_ci',
	`created_at` TIMESTAMP NULL DEFAULT NULL,
	`updated_at` TIMESTAMP NULL DEFAULT NULL,
	PRIMARY KEY (`id`) USING BTREE
)
COLLATE='utf8mb4_unicode_ci'
ENGINE=InnoDB
AUTO_INCREMENT=1
;

CREATE TABLE result_states(
	`id` BIGINT(20) UNSIGNED NOT NULL,
	`name` VARCHAR(50) NULL DEFAULT NULL COLLATE 'utf8mb4_general_ci',
	PRIMARY KEY (`id`) USING BTREE
)
COLLATE='utf8mb4_general_ci'
ENGINE=InnoDB
;


INSERT INTO result_states(`id`, `name`) VALUES ('1', 'Distinction');
INSERT INTO result_states(`id`, `name`) VALUES ('2', 'Merit');
INSERT INTO result_states(`id`, `name`) VALUES ('3', 'Pass');
INSERT INTO result_states(`id`, `name`) VALUES ('4', 'Resit');


CREATE TABLE `certificate_states` (
	`id` BIGINT(20) UNSIGNED NOT NULL,
	`name` VARCHAR(50) NULL DEFAULT NULL COLLATE 'utf8mb4_general_ci',
	PRIMARY KEY (`id`) USING BTREE
)
COLLATE='utf8mb4_general_ci'
ENGINE=InnoDB
;
INSERT INTO certificate_states(`id`, `name`) VALUES ('1', 'Pending');
INSERT INTO certificate_states(`id`, `name`) VALUES ('2', 'In process');
INSERT INTO certificate_states(`id`, `name`) VALUES ('3', 'Ready to Delivery');
INSERT INTO certificate_states(`id`, `name`) VALUES ('4', 'Received');




ALTER TABLE `batch_students`
	ADD COLUMN `current_batch` ENUM('Yes','Transfered') NOT NULL DEFAULT 'Yes' AFTER `status`,
	ADD COLUMN `transfered_batch_id` BIGINT(20) NULL DEFAULT NULL AFTER `current_batch`,
	ADD COLUMN `overall_result` VARCHAR(50) NULL DEFAULT NULL AFTER `transfered_batch_id`,
	ADD COLUMN `result_published_status` ENUM('Published','Not-published') NOT NULL DEFAULT 'Not-published' AFTER `dropout`;

ALTER TABLE `batch_students`
	CHANGE COLUMN `transfered_batch_id` `prev_batch_student_id` BIGINT(20) NULL DEFAULT NULL AFTER `current_batch`,
	ADD COLUMN `transfer_fee` DOUBLE NULL DEFAULT NULL AFTER `prev_batch_student_id`,
	ADD COLUMN `transfer_date` DATE NULL DEFAULT NULL AFTER `transfer_fee`,	
	ADD COLUMN `remarks` TEXT NULL DEFAULT NULL AFTER `transfer_date`;
ALTER TABLE `batch_students`
	ADD COLUMN `certificate_no` VARCHAR(50) NULL DEFAULT NULL AFTER `overall_result`;
ALTER TABLE `batch_students`
	ADD COLUMN `result_published_date` DATE NULL DEFAULT NULL AFTER `transfer_date`;
ALTER TABLE `batch_students`
	ADD COLUMN `certificate_status` BIGINT(20) NULL DEFAULT NULL AFTER `certificate_no`;
ALTER TABLE `batch_students`
	CHANGE COLUMN `certificate_status` `certificate_status` BIGINT(20) NOT NULL DEFAULT '1' AFTER `certificate_no`;


ALTER TABLE `student_payments`
	ADD COLUMN `status` ENUM('Active','Inactive') NOT NULL DEFAULT 'Active' AFTER `paid_by`;



Add Menu:
	Academic
	Results
	Certificates
Add Action: 
	Result List
	Result Entry/Update
	Result Publish
	Certificate List
	Certificate Update
	Certificate Edit
	Certificate Print

Updated:


ALTER TABLE `users` ADD UNIQUE INDEX `contact_no` (`contact_no`);

INSERT INTO `notification_templates` (`title`, `details`, `category`, `type`) VALUES ('OTP message', 'Your OTP for ABP portal login is', 'otp', 'SMS');

ALTER TABLE `students`
	CHANGE COLUMN `current_designation` `current_designation` VARCHAR(255) NULL COLLATE 'utf8mb4_unicode_ci' AFTER `current_emplyment`;

ALTER TABLE `students`
	CHANGE COLUMN `how_know` `how_know` VARCHAR(255) NULL DEFAULT NULL COLLATE 'utf8mb4_unicode_ci' AFTER `last_qualification`;






modification update dev:
1. 2js
2. js/page
3. view
4. migration
5. app
6. package, composer
7. composer install
8. clear cache
9. add draft action

run folling code to get inserted the unit into batch_student_unmits table
resultController/showList
        /*
	$allBatchStrudents = BatchStudent::with('batch.course.units')->get();
        foreach($allBatchStrudents as $allBatchStrudent){
            foreach($allBatchStrudent->batch->course->units as $unit){
                $batchStudentUnit = BatchStudentUnit::create([
                    'batch_student_id'=>  $allBatchStrudent->id,
                    'unit_id'         =>  $unit->id,
                    'created_by'      =>  Auth::user()->id
                ]);  
            }
        }
        */



